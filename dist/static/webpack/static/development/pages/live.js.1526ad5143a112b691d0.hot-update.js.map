{"version":3,"file":"static/webpack/static\\development\\pages\\live.js.1526ad5143a112b691d0.hot-update.js","sources":["webpack:///./pages/live.js"],"sourcesContent":["import \"../static/less/live.less\"\r\nimport \"../static/css/font.css\"\r\nimport \"../static/css/font2.css\"\r\nimport fetch from 'isomorphic-unfetch';\r\nimport React from 'react'\r\nimport Head from 'next/head'\r\nimport Nav from \"../components/Nav\"\r\nimport Footer from \"../components/Footer\"\r\n// import {fetchget} from '../utils/myfetch'\r\nimport { withRouter } from 'next/router';\r\nimport { Breadcrumb, Card } from 'antd';\r\nimport Link from 'next/link'\r\nconst { Meta } = Card;\r\n\r\nclass Live extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            key: 'live',\r\n            page: 1,\r\n            actived: 'actived',\r\n            beforeactive: 'beforeactive',\r\n            jiudian: [],\r\n            mingsu: []\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        let res = await fetch(\"http://formywei.club:9191/api/getlive/1/1\");\r\n        let data = await res.json();\r\n        let message = data.message\r\n        // console.log(message)\r\n        this.setState((state) => ({\r\n            mingsu: [...message]\r\n        }), () => {\r\n\r\n        })\r\n        let res1 = await fetch(\"http://formywei.club:9191/api/getlive/2/1\");\r\n        let data1 = await res1.json();\r\n        let message1 = data1.message\r\n        // console.log(message1)\r\n        this.setState((state) => ({\r\n            jiudian: [...message1]\r\n        }), () => {\r\n\r\n        })\r\n    }\r\n    getnextpage = async (page) => {\r\n        let res = await fetch(\"http://formywei.club:9191/api/getlive/1/\" + page);\r\n        let data = await res.json();\r\n        let message = data.message\r\n        // console.log(message)\r\n        this.setState((state) => ({\r\n            mingsu: [...message]\r\n        }), () => {\r\n\r\n        })\r\n        let res1 = await fetch(\"http://formywei.club:9191/api/getlive/2/\" + page);\r\n        let data1 = await res1.json();\r\n        let message1 = data1.message\r\n        // console.log(message1)\r\n        this.setState((state) => ({\r\n            jiudian: [...message1]\r\n        }), () => {\r\n\r\n        })\r\n    }\r\n    getming() {\r\n        return (this.state.mingsu.length && this.state.mingsu.map((item, idx) => {\r\n            return (<Link href={`/minsu?id=${item.id}`} key={idx}>\r\n                <div>\r\n                    <img src={item.img} />\r\n                    <span>{item.lname}</span>\r\n                </div>\r\n            </Link>)\r\n\r\n        })\r\n\r\n        )\r\n    }\r\n    getjiu() {\r\n        return (this.state.mingsu.length && this.state.jiudian.map((item, idx) => {\r\n            return (<Link href={`/hotel?id=${item.id}`} key={idx}>\r\n                <li>\r\n                    <div>\r\n                        <img src={item.img} />\r\n                    </div>\r\n                    <p>{item.lname}</p>\r\n                </li>\r\n            </Link>)\r\n\r\n        })\r\n\r\n        )\r\n\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"bg\">\r\n                <Nav current={this.state.key}></Nav>\r\n                <Head>\r\n                    <title>瑞艾客特</title>\r\n                </Head>\r\n                <div className=\"context\">\r\n                    <img src=\"../static/images/aboutimg.png\" />\r\n                    <div className=\"location\">\r\n                        <Breadcrumb>\r\n                            <Breadcrumb.Item>\r\n                                <a className=\"font2\">旅游住宿</a>\r\n                            </Breadcrumb.Item>\r\n                        </Breadcrumb>\r\n                    </div>\r\n                    <div className=\"title2 font1\">民宿体验</div>\r\n                    <div className=\"hotel1\">\r\n                        {this.getming()}\r\n                    </div>\r\n                    <div className=\"title2 font1\">星级酒店</div>\r\n                    <ul className=\"hotel2\">\r\n                        {this.getjiu()}\r\n                    </ul>\r\n                </div>\r\n                <div className='pages'>\r\n                    <div className='page'>\r\n                        <div className='num' onClick={() => { this.getnextpage(1) }}>1</div>\r\n                    </div>\r\n                    <div className='page'>\r\n                        <div className='num' onClick={() => { this.getnextpage(2) }}>2</div>\r\n                    </div>\r\n                </div>\r\n                <Footer></Footer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withRouter(Live)"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AA+BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AACA;AANA;AAAA;AACA;AADA;AAUA;AAVA;AAAA;AACA;AADA;AAWA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AA9BA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAFA;AAUA;AACA;;;;;;;;;;AACA;AACA;;AADA;;AACA;AACA;;AADA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;;AAKA;AACA;;AADA;;AACA;AACA;;AADA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AACA;;;;;;;;;;AAyBA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAGA;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAIA;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAtHA;AACA;AAyHA;;;;A","sourceRoot":""}