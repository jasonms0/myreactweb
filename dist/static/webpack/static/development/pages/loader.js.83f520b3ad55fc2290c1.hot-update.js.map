{"version":3,"file":"static/webpack/static\\development\\pages\\loader.js.83f520b3ad55fc2290c1.hot-update.js","sources":["webpack:///./components/showList.js"],"sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\nimport \"../static/css/font2.css\"\r\nimport Link from \"next/link\"\r\n// import {Tabs} from 'antd'\r\n// const {TabPane} = Tabs\r\n\r\n// import 'antd/dist/antd.css'\r\nimport { Pagination } from 'antd';\r\n\r\nexport default class ShowList extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            cateName:[\r\n                '金砖夜游',\r\n                '夜游厦门',\r\n                '鼓浪屿世遗',\r\n                '自驾游',\r\n                '周边游',\r\n                '其他'\r\n            ],\r\n            // list:[],\r\n            page:[],\r\n            current:1, //当前页\r\n            cate:1, //当前分类\r\n            total: 18,\r\n            // itemsPerPage: 9, // 每页几条数据\r\n        }\r\n\r\n        this.toggleCate = this.toggleCate.bind(this);\r\n        this.togglePage = this.togglePage.bind(this);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='pagewidth'>\r\n                <div className='cate'>\r\n                    <ul>\r\n                        <li className='title font2'>\r\n                            选择类型：\r\n                        </li>\r\n                        {this.state.cateName.map((item,index)=>{\r\n                            if(index == 0){\r\n                                return (\r\n                                    <li key={index} data-value={index} className='active item' onClick={this.toggleCate}>\r\n                                        {item}\r\n                                    </li>\r\n                                )\r\n                            }else{\r\n                                return (\r\n                                    <li key={index} data-value={index} className='item' onClick={this.toggleCate}>\r\n                                        {item}\r\n                                    </li>\r\n                                )\r\n                            }\r\n                        }\r\n                            \r\n                        )}\r\n                    </ul>\r\n                </div>\r\n                <div className='list'>\r\n                    {this.state.page.map((item,index)=>\r\n                    <Link href={'/routedetail?id='+item.id}>\r\n                        <a key={index} href={item.src}>\r\n                            <img src={item.lunbo1}/>\r\n                            <p className=\"font2\">{item.rname}</p>\r\n                        </a>\r\n                    </Link>\r\n                        \r\n                    )}\r\n                </div>\r\n                <div className='page'>\r\n                    <Pagination \r\n                    ref=\"Pagination\"\r\n                        current={this.state.current}\r\n                        onChange={this.togglePage}\r\n                        total={this.setTotal()}\r\n                    />\r\n                </div>\r\n                <style jsx>{`\r\n                    * {\r\n                        box-sizing: border-box;\r\n                    }\r\n                    ul {\r\n                        list-style: none;\r\n                    }\r\n                    a {\r\n                        text-decoration: none;\r\n                        color: #333;\r\n                    }\r\n\r\n                    .pagewidth {\r\n                        width: 850px;\r\n                        margin: 25px auto 0;                                              \r\n                    }\r\n\r\n                    .cate > ul {\r\n                        margin: 0;\r\n                        \r\n                        padding: 0;\r\n                        height: 45px;\r\n                        // line-height: 45px;\r\n                        border-bottom: 1px solid #eee;\r\n                        // overflow:hidden;\r\n                    }\r\n\r\n                    .cate > ul > li {\r\n                        vertical-align: middle;                      \r\n                        display: inline-block;\r\n                        border-bottom:1px solid #eee;                      \r\n                        padding: 0 15px;\r\n                        height: 45px;\r\n                        line-height: 45px;\r\n                        letter-spacing: 1px;\r\n                        cursor: pointer;\r\n                        \r\n                    }\r\n\r\n                    .cate > ul > li.active{\r\n                        color: #1890ff;\r\n                        border-bottom:2px solid #1890ff;\r\n                    }\r\n\r\n                    .cate > ul > li:active,\r\n                    .cate > ul > li:hover{\r\n                        color: #40a9ff;\r\n                    }\r\n\r\n                    .cate .title {\r\n                        font-size: 14px;\r\n                        color: #666;\r\n                    }\r\n\r\n                    .list{\r\n                        margin-top: 30px;\r\n                    }\r\n\r\n                    .list > a {\r\n                        box-sizing: border-box;\r\n                        display: inline-block;\r\n                        overflow: hidden; \r\n                        width: 30%;\r\n                        height: 250px;\r\n                        margin: 14px;\r\n                        padding:5px;                                                                    \r\n                    }\r\n                    .list > a > p {\r\n                        margin-top: 15px;\r\n                        font-weight:bold;\r\n                        font-size:16px;\r\n                        \r\n                    }\r\n                   \r\n                    .list > a > img {\r\n                        cursor: pointer;  \r\n                        transition: all 0.7s; \r\n                        width: 100%;\r\n                        height: 70%;\r\n                    }\r\n                    .list img:hover{  \r\n                        transform: scale(1.1);  \r\n                    }  \r\n\r\n                    .page{\r\n                        display: flex;\r\n                        margin-top: 50px;\r\n                        margin-bottom: 70px;\r\n                        justify-content: center;\r\n                    }\r\n                `}</style>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData('1','1')\r\n    }\r\n\r\n    toggleCate(e) {\r\n\r\n        let button = arguments[0].currentTarget;\r\n        let cate = button.getAttribute('data-value');\r\n        this.setState({cate:+cate+1});\r\n\r\n\r\n        //页数变化\r\n        this.setState({current:1});\r\n\r\n        //样式变化\r\n        let cli = e.currentTarget; //当前的li\r\n        let lis = cli.parentNode.children;//所有li\r\n        \r\n        for(let i = 0;i<lis.length;i++){\r\n            lis[i].classList.remove('active')\r\n        }\r\n\r\n        cli.classList.add('active');\r\n        \r\n        //获取数据\r\n        this.getData(+cate+1,1);\r\n    }\r\n\r\n    setTotal(){\r\n        return this.state.total;\r\n    }\r\n\r\n    togglePage(num){\r\n        let current = num;\r\n\r\n        //改变页码\r\n        this.setState({current:current});\r\n\r\n        //改变内容\r\n        this.getData(this.state.cate,num)\r\n    }\r\n\r\n    async getData(cate,pagecode) {\r\n        // let res = await axios.get();//得到分页\r\n        // this.setState({total:res});\r\n\r\n        let res = await axios.get('http://ssdyy.club:9191/api/getroute/'+cate+'/'+pagecode)\r\n\r\n        let resJons = res.data.message;\r\n         console.log(resJons)\r\n        this.setState({page:resJons})\r\n\r\n    }\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AAQA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAdA;AAiBA;AACA;AApBA;AAqBA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AArCA;AAAA;AAAA;AAyIA;;;AAEA;AACA;AACA;;;AAEA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;;;AAEA;;;;;;;AAIA;AACA;;AADA;AAEA;AACA;AACA;AAAA;AAAA;AACA;;;;;;;;;;;AAxNA;AACA;;;;;A","sourceRoot":""}