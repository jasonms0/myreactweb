{"ast":null,"code":"import \"antd/lib/rate/style/css\";\nimport _Rate from \"antd/lib/rate\";\nimport \"antd/lib/carousel/style/css\";\nimport _Carousel from \"antd/lib/carousel\";\nimport \"antd/lib/breadcrumb/style/css\";\nimport _Breadcrumb from \"antd/lib/breadcrumb\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport { withRouter } from 'next/router';\nimport \"../static/less/hotel.less\";\nimport Nav from \"../components/Nav\";\nimport Footer from \"../components/Footer\";\nimport Head from 'next/head';\nimport Link from 'next/link';\nvar hotelid = 4;\n\nclass Hotel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handlePositionChange\", ({\n      target: {\n        value: dotPosition\n      }\n    }) => this.setState({\n      dotPosition\n    }));\n\n    _defineProperty(this, \"getcontent\", () => {});\n\n    this.state = {\n      key: 'live',\n      dotPosition: 'top',\n      show: []\n    };\n  }\n\n  async componentDidMount() {\n    // 获取广告数据\n    hotelid = this.props.router.query.id; // console.log( id);\n\n    this.setState(state => ({\n      show: [...this.props.data.message]\n    }), () => {// this.setState({\n      //     star:this.state.show[0].star\n      // })\n      //console.log(this.state.show[0].star,this.state.star)\n      // console.log(this.state.show, \"kkkkkkkkkkkkkk\")\n      // console.log(this.state.show[0].star)\n    });\n  }\n\n  render() {\n    const {\n      dotPosition\n    } = this.state;\n    const star = this.state.show.length && this.state.show[0].star; // console.log(star, \"ppppp\")\n\n    return __jsx(\"div\", {\n      className: \"bg3\"\n    }, __jsx(Nav, {\n      current: this.state.key\n    }), __jsx(Head, null, __jsx(\"title\", null, \"\\u745E\\u827E\\u5BA2\\u7279\")), __jsx(\"div\", {\n      className: \"container-hotel7\"\n    }, __jsx(\"img\", {\n      src: \"../static/images/aboutimg.png\"\n    }), __jsx(\"div\", {\n      className: \"location\"\n    }, __jsx(_Breadcrumb, null, __jsx(_Breadcrumb.Item, null, __jsx(Link, {\n      href: \"/live\"\n    }, __jsx(\"a\", {\n      className: \"font2\"\n    }, \"\\u65C5\\u6E38\\u4F4F\\u5BBF\"))), __jsx(_Breadcrumb.Item, null, __jsx(\"a\", {\n      className: \"font2\"\n    }, \"\\u661F\\u7EA7\\u9152\\u5E97\")))), __jsx(\"div\", {\n      className: \"content7\"\n    }, __jsx(\"div\", {\n      className: \"pic7\"\n    }, __jsx(_Carousel, {\n      autoplay: true,\n      className: \"pic-carousel7\"\n    }, __jsx(\"div\", null, __jsx(\"img\", {\n      src: this.state.show.length && this.state.show[0].lunbo1\n    })), __jsx(\"div\", null, __jsx(\"img\", {\n      src: this.state.show.length && this.state.show[0].lunbo2\n    })), __jsx(\"div\", null, __jsx(\"img\", {\n      src: this.state.show.length && this.state.show[0].lunbo3\n    })))), __jsx(\"div\", {\n      className: \"hotel-content7\"\n    }, __jsx(\"h1\", null, __jsx(\"b\", null, this.state.show.length && this.state.show[0].lname)), __jsx(_Rate, {\n      disabled: true,\n      value: star\n    }), __jsx(\"p\", null, __jsx(\"b\", null, this.state.show.length && this.state.show[0].intro)))), __jsx(\"div\", {\n      className: \"facilities7\"\n    }, __jsx(\"p\", null, \"\\u9152\\u5E97\\u8BBE\\u65BD\"), __jsx(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: this.state.show.length && this.state.show[0].content1\n      }\n    })), __jsx(\"div\", {\n      className: \"policy7\"\n    }, __jsx(\"p\", null, \"\\u9152\\u5E97\\u653F\\u7B56\"), __jsx(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: this.state.show.length && this.state.show[0].content2\n      }\n    }))), __jsx(Footer, null));\n  }\n\n}\n\nHotel.getInitialProps = async function () {\n  const res = await fetch('http://formywei.club:9191/api/getlivedetail/2/' + hotelid);\n  const data = await res.json();\n  console.log(data);\n  return {\n    data\n  };\n};\n\nexport default withRouter(Hotel);","map":null,"metadata":{},"sourceType":"module"}