{"ast":null,"code":"import \"antd/lib/pagination/style/css\";\nimport _Pagination from \"antd/lib/pagination\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport axios from 'axios';\nimport \"../static/css/font2.css\";\nimport Link from \"next/link\"; // import {Tabs} from 'antd'\n// const {TabPane} = Tabs\n// import 'antd/dist/antd.css'\n\nexport default class ShowList extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      cateName: ['金砖夜游', '夜游厦门', '鼓浪屿世遗', '自驾游', '周边游', '其他'],\n      // list:[],\n      page: [],\n      current: 1,\n      //当前页\n      cate: 1,\n      //当前分类\n      total: 18 // itemsPerPage: 9, // 每页几条数据\n\n    };\n    this.toggleCate = this.toggleCate.bind(this);\n    this.togglePage = this.togglePage.bind(this);\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"jsx-1392696161\" + \" \" + 'pagewidth'\n    }, __jsx(\"div\", {\n      className: \"jsx-1392696161\" + \" \" + 'cate'\n    }, __jsx(\"ul\", {\n      className: \"jsx-1392696161\"\n    }, __jsx(\"li\", {\n      className: \"jsx-1392696161\" + \" \" + 'title font2'\n    }, \"\\u9009\\u62E9\\u7C7B\\u578B\\uFF1A\"), this.state.cateName.map((item, index) => {\n      if (index == 0) {\n        return __jsx(\"li\", {\n          key: index,\n          \"data-value\": index,\n          onClick: this.toggleCate,\n          className: \"jsx-1392696161\" + \" \" + 'active item'\n        }, item);\n      } else {\n        return __jsx(\"li\", {\n          key: index,\n          \"data-value\": index,\n          onClick: this.toggleCate,\n          className: \"jsx-1392696161\" + \" \" + 'item'\n        }, item);\n      }\n    }))), __jsx(\"div\", {\n      className: \"jsx-1392696161\" + \" \" + 'list'\n    }, this.state.page.map((item, index) => __jsx(Link, {\n      href: '/routedetail?id=' + item.id\n    }, __jsx(\"a\", {\n      key: index,\n      href: item.src,\n      className: \"jsx-1392696161\"\n    }, __jsx(\"img\", {\n      src: item.lunbo1,\n      className: \"jsx-1392696161\"\n    }), __jsx(\"p\", {\n      className: \"jsx-1392696161\" + \" \" + \"font2\"\n    }, item.rname))))), __jsx(\"div\", {\n      className: \"jsx-1392696161\" + \" \" + 'page'\n    }, __jsx(_Pagination, {\n      ref: \"Pagination\",\n      current: this.state.current,\n      onChange: this.togglePage,\n      total: this.setTotal()\n    })), __jsx(_JSXStyle, {\n      id: \"1392696161\"\n    }, [\"*.jsx-1392696161{box-sizing:border-box;}\", \"ul.jsx-1392696161{list-style:none;}\", \"a.jsx-1392696161{-webkit-text-decoration:none;text-decoration:none;color:#333;}\", \".pagewidth.jsx-1392696161{width:850px;margin:25px auto 0;}\", \".cate.jsx-1392696161>ul.jsx-1392696161{margin:0;padding:0;height:45px;border-bottom:1px solid #eee;}\", \".cate.jsx-1392696161>ul.jsx-1392696161>li.jsx-1392696161{vertical-align:middle;display:inline-block;border-bottom:1px solid #eee;padding:0 15px;height:45px;line-height:45px;-webkit-letter-spacing:1px;-moz-letter-spacing:1px;-ms-letter-spacing:1px;letter-spacing:1px;cursor:pointer;}\", \".cate.jsx-1392696161>ul.jsx-1392696161>li.active.jsx-1392696161{color:#1890ff;border-bottom:2px solid #1890ff;}\", \".cate.jsx-1392696161>ul.jsx-1392696161>li.jsx-1392696161:active,.cate.jsx-1392696161>ul.jsx-1392696161>li.jsx-1392696161:hover{color:#40a9ff;}\", \".cate.jsx-1392696161 .title.jsx-1392696161{font-size:14px;color:#666;}\", \".list.jsx-1392696161{margin-top:30px;}\", \".list.jsx-1392696161>a.jsx-1392696161{box-sizing:border-box;display:inline-block;overflow:hidden;width:30%;height:250px;margin:14px;padding:5px;}\", \".list.jsx-1392696161>a.jsx-1392696161>p.jsx-1392696161{margin-top:15px;font-weight:bold;font-size:16px;}\", \".list.jsx-1392696161>a.jsx-1392696161>img.jsx-1392696161{cursor:pointer;-webkit-transition:all 0.7s;transition:all 0.7s;width:100%;height:70%;}\", \".list.jsx-1392696161 img.jsx-1392696161:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);}\", \".page.jsx-1392696161{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-top:50px;margin-bottom:70px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}\"]));\n  }\n\n  componentDidMount() {\n    this.getData('1', '1');\n  }\n\n  toggleCate(e) {\n    let button = arguments[0].currentTarget;\n    let cate = button.getAttribute('data-value');\n    this.setState({\n      cate: +cate + 1\n    }); //页数变化\n\n    this.setState({\n      current: 1\n    }); //样式变化\n\n    let cli = e.currentTarget; //当前的li\n\n    let lis = cli.parentNode.children; //所有li\n\n    for (let i = 0; i < lis.length; i++) {\n      lis[i].classList.remove('active');\n    }\n\n    cli.classList.add('active'); //获取数据\n\n    this.getData(+cate + 1, 1);\n  }\n\n  setTotal() {\n    return this.state.total;\n  }\n\n  togglePage(num) {\n    let current = num; //改变页码\n\n    this.setState({\n      current: current\n    }); //改变内容\n\n    this.getData(this.state.cate, num);\n  }\n\n  async getData(cate, pagecode) {\n    // let res = await axios.get();//得到分页\n    // this.setState({total:res});\n    let res = await axios.get('http://ssdyy.club:9191/api/getroute/' + cate + '/' + pagecode);\n    let resJons = res.data.message; //  console.log(resJons)\n\n    this.setState({\n      page: resJons\n    });\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}