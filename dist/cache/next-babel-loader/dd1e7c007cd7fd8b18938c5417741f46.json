{"ast":null,"code":"import \"antd/lib/breadcrumb/style/css\";\nimport _Breadcrumb from \"antd/lib/breadcrumb\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"antd/lib/card/style/css\";\nimport _Card from \"antd/lib/card\";\nvar _jsxFileName = \"E:\\\\myreactweb\\\\pages\\\\live.js\";\nvar __jsx = React.createElement;\nimport \"../static/less/live.less\";\nimport \"../static/css/font.css\";\nimport \"../static/css/font2.css\";\nimport fetch from 'isomorphic-unfetch';\nimport React from 'react';\nimport Head from 'next/head';\nimport Nav from \"../components/Nav\";\nimport Footer from \"../components/Footer\"; // import {fetchget} from '../utils/myfetch'\n\nimport { withRouter } from 'next/router';\nimport Link from 'next/link';\nconst {\n  Meta\n} = _Card;\n\nclass Live extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"getnextpage\", async page => {\n      let res = await fetch(\"http://formywei.club:9191/api/getlive/1/\" + page);\n      let data = await res.json();\n      let message = data.message; // console.log(message)\n\n      this.setState(state => ({\n        mingsu: [...message]\n      }), () => {});\n      let res1 = await fetch(\"http://formywei.club:9191/api/getlive/2/\" + page);\n      let data1 = await res1.json();\n      let message1 = data1.message; // console.log(message1)\n\n      this.setState(state => ({\n        jiudian: [...message1]\n      }), () => {});\n    });\n\n    this.state = {\n      key: 'live',\n      page: 1,\n      actived: 'actived',\n      beforeactive: 'beforeactive',\n      jiudian: [],\n      mingsu: []\n    };\n  }\n\n  async componentDidMount() {\n    let res = await fetch(\"http://formywei.club:9191/api/getlive/1/1\");\n    let data = await res.json();\n    let message = data.message; // console.log(message)\n\n    this.setState(state => ({\n      mingsu: [...message]\n    }), () => {});\n    let res1 = await fetch(\"http://formywei.club:9191/api/getlive/2/1\");\n    let data1 = await res1.json();\n    let message1 = data1.message; // console.log(message1)\n\n    this.setState(state => ({\n      jiudian: [...message1]\n    }), () => {});\n  }\n\n  getming() {\n    return this.state.mingsu.length && this.state.mingsu.map((item, idx) => {\n      return __jsx(Link, {\n        href: `/minsu?id=${item.id}`,\n        key: idx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: item.img,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), __jsx(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, item.lname)));\n    });\n  }\n\n  getjiu() {\n    return this.state.mingsu.length && this.state.jiudian.map((item, idx) => {\n      return __jsx(Link, {\n        href: `/hotel?id=${item.id}`,\n        key: idx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, __jsx(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: item.img,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })), __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, item.lname)));\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"bg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, __jsx(Nav, {\n      current: this.state.key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), __jsx(Head, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, __jsx(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"\\u745E\\u827E\\u5BA2\\u7279\")), __jsx(\"div\", {\n      className: \"context\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: \"../static/images/aboutimg.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      className: \"location\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, __jsx(_Breadcrumb, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, __jsx(_Breadcrumb.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      className: \"font2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"\\u65C5\\u6E38\\u4F4F\\u5BBF\")))), __jsx(\"div\", {\n      className: \"title2 font1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"\\u6C11\\u5BBF\\u4F53\\u9A8C\"), __jsx(\"div\", {\n      className: \"hotel1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, this.getming()), __jsx(\"div\", {\n      className: \"title2 font1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"\\u661F\\u7EA7\\u9152\\u5E97\"), __jsx(\"ul\", {\n      className: \"hotel2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, this.getjiu())), __jsx(\"div\", {\n      className: \"pages\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"num\",\n      onClick: () => {\n        this.getnextpage(1);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"1\")), __jsx(\"div\", {\n      className: \"page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"num\",\n      onClick: () => {\n        this.getnextpage(2);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"2\"))), __jsx(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default withRouter(Live);","map":{"version":3,"sources":["E:/myreactweb/pages/live.js"],"names":["fetch","React","Head","Nav","Footer","withRouter","Link","Meta","Live","Component","constructor","props","page","res","data","json","message","setState","state","mingsu","res1","data1","message1","jiudian","key","actived","beforeactive","componentDidMount","getming","length","map","item","idx","id","img","lname","getjiu","render","getnextpage"],"mappings":"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","sourcesContent":["import \"../static/less/live.less\"\r\nimport \"../static/css/font.css\"\r\nimport \"../static/css/font2.css\"\r\nimport fetch from 'isomorphic-unfetch';\r\nimport React from 'react'\r\nimport Head from 'next/head'\r\nimport Nav from \"../components/Nav\"\r\nimport Footer from \"../components/Footer\"\r\n// import {fetchget} from '../utils/myfetch'\r\nimport { withRouter } from 'next/router';\r\nimport { Breadcrumb, Card } from 'antd';\r\nimport Link from 'next/link'\r\nconst { Meta } = Card;\r\n\r\nclass Live extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            key: 'live',\r\n            page: 1,\r\n            actived: 'actived',\r\n            beforeactive: 'beforeactive',\r\n            jiudian: [],\r\n            mingsu: []\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        let res = await fetch(\"http://formywei.club:9191/api/getlive/1/1\");\r\n        let data = await res.json();\r\n        let message = data.message\r\n        // console.log(message)\r\n        this.setState((state) => ({\r\n            mingsu: [...message]\r\n        }), () => {\r\n\r\n        })\r\n        let res1 = await fetch(\"http://formywei.club:9191/api/getlive/2/1\");\r\n        let data1 = await res1.json();\r\n        let message1 = data1.message\r\n        // console.log(message1)\r\n        this.setState((state) => ({\r\n            jiudian: [...message1]\r\n        }), () => {\r\n\r\n        })\r\n    }\r\n    getnextpage = async (page) => {\r\n        let res = await fetch(\"http://formywei.club:9191/api/getlive/1/\" + page);\r\n        let data = await res.json();\r\n        let message = data.message\r\n        // console.log(message)\r\n        this.setState((state) => ({\r\n            mingsu: [...message]\r\n        }), () => {\r\n\r\n        })\r\n        let res1 = await fetch(\"http://formywei.club:9191/api/getlive/2/\" + page);\r\n        let data1 = await res1.json();\r\n        let message1 = data1.message\r\n        // console.log(message1)\r\n        this.setState((state) => ({\r\n            jiudian: [...message1]\r\n        }), () => {\r\n\r\n        })\r\n    }\r\n    getming() {\r\n        return (this.state.mingsu.length && this.state.mingsu.map((item, idx) => {\r\n            return (<Link href={`/minsu?id=${item.id}`} key={idx}>\r\n                <div>\r\n                    <img src={item.img} />\r\n                    <span>{item.lname}</span>\r\n                </div>\r\n            </Link>)\r\n\r\n        })\r\n\r\n        )\r\n    }\r\n    getjiu() {\r\n        return (this.state.mingsu.length && this.state.jiudian.map((item, idx) => {\r\n            return (<Link href={`/hotel?id=${item.id}`} key={idx}>\r\n                <li>\r\n                    <div>\r\n                        <img src={item.img} />\r\n                    </div>\r\n                    <p>{item.lname}</p>\r\n                </li>\r\n            </Link>)\r\n\r\n        })\r\n\r\n        )\r\n\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"bg\">\r\n                <Nav current={this.state.key}></Nav>\r\n                <Head>\r\n                    <title>瑞艾客特</title>\r\n                </Head>\r\n                <div className=\"context\">\r\n                    <img src=\"../static/images/aboutimg.png\" />\r\n                    <div className=\"location\">\r\n                        <Breadcrumb>\r\n                            <Breadcrumb.Item>\r\n                                <a className=\"font2\">旅游住宿</a>\r\n                            </Breadcrumb.Item>\r\n                        </Breadcrumb>\r\n                    </div>\r\n                    <div className=\"title2 font1\">民宿体验</div>\r\n                    <div className=\"hotel1\">\r\n                        {this.getming()}\r\n                    </div>\r\n                    <div className=\"title2 font1\">星级酒店</div>\r\n                    <ul className=\"hotel2\">\r\n                        {this.getjiu()}\r\n                    </ul>\r\n                </div>\r\n                <div className='pages'>\r\n                    <div className='page'>\r\n                        <div className='num' onClick={() => { this.getnextpage(1) }}>1</div>\r\n                    </div>\r\n                    <div className='page'>\r\n                        <div className='num' onClick={() => { this.getnextpage(2) }}>2</div>\r\n                    </div>\r\n                </div>\r\n                <Footer></Footer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withRouter(Live)"]},"metadata":{},"sourceType":"module"}