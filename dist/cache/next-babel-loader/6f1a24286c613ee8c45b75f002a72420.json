{"ast":null,"code":"import \"antd/lib/rate/style/css\";\nimport _Rate from \"antd/lib/rate\";\nimport \"antd/lib/carousel/style/css\";\nimport _Carousel from \"antd/lib/carousel\";\nimport \"antd/lib/breadcrumb/style/css\";\nimport _Breadcrumb from \"antd/lib/breadcrumb\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport { withRouter } from 'next/router';\nimport \"../static/less/hotel.less\";\nimport Nav from \"../components/Nav\";\nimport Footer from \"../components/Footer\";\nimport Head from 'next/head';\nimport Link from 'next/link';\nvar hotelid = 4;\n\nvar Hotel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Hotel, _React$Component);\n\n  function Hotel(props) {\n    var _this;\n\n    _classCallCheck(this, Hotel);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Hotel).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePositionChange\", function (_ref) {\n      var dotPosition = _ref.target.value;\n      return _this.setState({\n        dotPosition: dotPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getcontent\", function () {});\n\n    _this.state = {\n      key: 'live',\n      dotPosition: 'top',\n      show: []\n    };\n    return _this;\n  }\n\n  _createClass(Hotel, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // 获取广告数据\n              hotelid = this.props.router.query.id; // console.log( id);\n\n              this.setState(function (state) {\n                return {\n                  show: _toConsumableArray(_this2.props.data.message)\n                };\n              }, function () {// this.setState({\n                //     star:this.state.show[0].star\n                // })\n                //console.log(this.state.show[0].star,this.state.star)\n                // console.log(this.state.show, \"kkkkkkkkkkkkkk\")\n                // console.log(this.state.show[0].star)\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var dotPosition = this.state.dotPosition;\n      var star = this.state.show.length && this.state.show[0].star; // console.log(star, \"ppppp\")\n\n      return __jsx(\"div\", {\n        className: \"bg3\"\n      }, __jsx(Nav, {\n        current: this.state.key\n      }), __jsx(Head, null, __jsx(\"title\", null, \"\\u745E\\u827E\\u5BA2\\u7279\")), __jsx(\"div\", {\n        className: \"container-hotel7\"\n      }, __jsx(\"img\", {\n        src: \"../static/images/aboutimg.png\"\n      }), __jsx(\"div\", {\n        className: \"location\"\n      }, __jsx(_Breadcrumb, null, __jsx(_Breadcrumb.Item, null, __jsx(Link, {\n        href: \"/live\"\n      }, __jsx(\"a\", {\n        className: \"font2\"\n      }, \"\\u65C5\\u6E38\\u4F4F\\u5BBF\"))), __jsx(_Breadcrumb.Item, null, __jsx(\"a\", {\n        className: \"font2\"\n      }, \"\\u661F\\u7EA7\\u9152\\u5E97\")))), __jsx(\"div\", {\n        className: \"content7\"\n      }, __jsx(\"div\", {\n        className: \"pic7\"\n      }, __jsx(_Carousel, {\n        autoplay: true,\n        className: \"pic-carousel7\"\n      }, __jsx(\"div\", null, __jsx(\"img\", {\n        src: this.state.show.length && this.state.show[0].lunbo1\n      })), __jsx(\"div\", null, __jsx(\"img\", {\n        src: this.state.show.length && this.state.show[0].lunbo2\n      })), __jsx(\"div\", null, __jsx(\"img\", {\n        src: this.state.show.length && this.state.show[0].lunbo3\n      })))), __jsx(\"div\", {\n        className: \"hotel-content7\"\n      }, __jsx(\"h1\", null, __jsx(\"b\", null, this.state.show.length && this.state.show[0].lname)), __jsx(_Rate, {\n        disabled: true,\n        value: star\n      }), __jsx(\"p\", null, __jsx(\"b\", null, this.state.show.length && this.state.show[0].intro)))), __jsx(\"div\", {\n        className: \"facilities7\"\n      }, __jsx(\"p\", null, \"\\u9152\\u5E97\\u8BBE\\u65BD\"), __jsx(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: this.state.show.length && this.state.show[0].content1\n        }\n      })), __jsx(\"div\", {\n        className: \"policy7\"\n      }, __jsx(\"p\", null, \"\\u9152\\u5E97\\u653F\\u7B56\"), __jsx(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: this.state.show.length && this.state.show[0].content2\n        }\n      }))), __jsx(Footer, null));\n    }\n  }]);\n\n  return Hotel;\n}(React.Component);\n\nHotel.getInitialProps = function _callee() {\n  var res, data;\n  return _regeneratorRuntime.async(function _callee$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regeneratorRuntime.awrap(fetch('http://formywei.club:9191/api/getlivedetail/2/' + hotelid));\n\n        case 2:\n          res = _context2.sent;\n          _context2.next = 5;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 5:\n          data = _context2.sent;\n          console.log(data);\n          return _context2.abrupt(\"return\", {\n            data: data\n          });\n\n        case 8:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  });\n};\n\nexport default withRouter(Hotel);","map":null,"metadata":{},"sourceType":"module"}